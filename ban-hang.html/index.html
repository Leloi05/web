<!DOCTYPE html>
<html>
<head>
  <title>Shopping Cart</title>
</head>
<body>
  <h3>Product Menu</h3>
  <table border="1">
    <tr>
      <td>iPhone9</td>
      <td>$2700</td>
      <td><button onclick="them(this)">Thêm</button></td>
    </tr>
    <tr>
      <td>iPhone X</td>
      <td>$3200</td>
      <td><button onclick="them(this)">Thêm</button></td>
    </tr>
    <tr>
      <td>iPhone 15</td>
      <td>$3500</td>
      <td><button onclick="them(this)">Thêm</button></td>
    </tr>
  </table>

  <h3>Your Cart</h3>
  <table border="1" id="cart"></table>

  <h3>Total: $<span id="tong">0</span></h3>

  <script>
    function them(button) {
      var row = button.parentElement.parentElement.cloneNode(true);
      var btnXoa = row.getElementsByTagName("button")[0];
      btnXoa.innerText = "Xóa";
      btnXoa.setAttribute("onclick", "xoa(this)");
      document.getElementById("cart").appendChild(row);
      tinhTong();
    }

    function xoa(button) {
      var row = button.parentElement.parentElement;
      document.getElementById("cart").removeChild(row);
      tinhTong();
    }

    function tinhTong() {
      var cart = document.getElementById("cart");
      var rows = cart.getElementsByTagName("tr");
      var tong = 0;
      for (var i = 0; i < rows.length; i++) {
        var cells = rows[i].getElementsByTagName("td");
        var price = cells[1].innerText.substr(1); // bỏ ký tự $
        tong += 1 * price;
      }
      document.getElementById("tong").innerText = tong;
    }
  </script>
</body>
</html>
